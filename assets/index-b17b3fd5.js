import{P as o,w as a,k as m,j as s,W as u,L as c,p as l,e as x,d as h,z as g,t as i,x as j}from"./index-c796936d.js";const y=[{status:a.all,name:"Tất cả"},{status:a.waitForConfirmation,name:"Chờ xác nhận"},{status:a.waitForGetting,name:"Chờ lấy hàng"},{status:a.inProgress,name:"Đang giao"},{status:a.delivered,name:"Đã giao"},{status:a.cancelled,name:"Đã hủy"}];function p(){const d=o(),t=Number(d.status)||a.all,{data:n}=m({queryKey:["purchases",{status:t}],queryFn:()=>j.getPurchaseList({status:t})}),r=n==null?void 0:n.data.data;return s.jsxs("div",{children:[s.jsxs(u,{children:[s.jsx("title",{children:"Lịch sử đơn hàng | Shopee Clone"}),s.jsx("meta",{name:"description",content:"lịch sử đơn hàng dự án shopee clone"})]}),s.jsx("div",{className:"sticky top-0 flex rounded-t-sm shadow-sm",children:y.map(e=>s.jsx(c,{to:{pathname:l.historyPurchase,search:x({status:String(e.status)}).toString()},className:h("flex flex-1 items-center justify-center border-b-2 py-4 bg-white text-center",{"border-b-orange-600 text-orange-600":t===e.status,"border-b-black-600 text-gray-800":t!==e.status}),children:e.name}))}),s.jsx("div",{children:r==null?void 0:r.map(e=>s.jsxs("div",{className:"mt-4 rounded-sm border-black/10 bg-white p-6",children:[s.jsxs(c,{to:`${l.home}${g({name:e.product.name,id:e.product._id})}`,className:"flex",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("img",{src:e.product.image,className:"h-20 w-20 object-cover",alt:""})}),s.jsxs("div",{className:"ml-3 flex-grow overflow-hidden",children:[s.jsx("div",{className:"truncate",children:e.product.name}),s.jsxs("div",{className:"mt-3",children:["x",e.buy_count]})]}),s.jsxs("div",{className:"ml-3 flex-shrink-0",children:[s.jsxs("span",{className:"truncate text-gray-600 line-through",children:["₫",i(e.price_before_discount)]}),s.jsxs("span",{className:"ml-3 text-orange-600 font-medium",children:["₫",i(e.price)]})]})]}),s.jsx("div",{className:"flex justify-end",children:s.jsxs("div",{children:[s.jsx("span",{children:"Tổng giá tiền:"}),s.jsxs("span",{className:"ml-4 text-xl text-orange-600",children:["₫",i(e.buy_count*e.price)]})]})})]},e._id))})]})}export{p as default};

import{r as u,A as j,u as y,y as v,a as f,i as N,j as e,W as w,L as b,s as S,b as A}from"./index-c796936d.js";import{I as m}from"./Input-1e6aaefa.js";import{B as L}from"./Button-6feb0bde.js";const C=S.pick(["email","password"]);function B(){var l,c;const{setIsAuthenticated:p,setProfile:g}=u.useContext(j),{formState:{errors:i},handleSubmit:x,register:r,setError:o}=y({resolver:v(C)}),t=f({mutationFn:n=>A.LoginAccount(n)}),h=x(n=>{t.mutate(n,{onSuccess:a=>{p(!0),g(a.data.data.user)},onError:a=>{var d;if(N(a)){const s=(d=a.response)==null?void 0:d.data.data;s!=null&&s.email&&o("email",{message:s.email,type:"Server"}),s!=null&&s.password&&o("password",{message:s.password,type:"Server"})}}})});return e.jsxs("div",{className:"bg-orange-600",children:[e.jsxs(w,{children:[e.jsx("title",{children:"Đăng nhập | Shopee Clone"}),e.jsx("meta",{name:"description",content:"Đăng nhập vào dự án shopee clone"})]}),e.jsx("div",{className:"container",children:e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-5 py-12 lg:py-32 lg:pr-10",children:e.jsx("div",{className:"lg:col-span-2 lg:col-start-4",children:e.jsxs("form",{className:"bg-white p-10 shadow-sm  rounded-md",onSubmit:h,children:[e.jsx("div",{className:"text-2xl",children:"Đăng nhập"}),e.jsx(m,{type:"text",name:"email",placeholder:"Email",register:r,className:"mt-8",errorMassage:(l=i.email)==null?void 0:l.message,autoComplete:"on"}),e.jsx(m,{type:"password",name:"password",placeholder:"Password",register:r,className:"mt-2 relative",errorMassage:(c=i.password)==null?void 0:c.message,autoComplete:"on"}),e.jsx("div",{className:"mt-2",children:e.jsx(L,{type:"submit",disabled:t.isLoading,isLoading:t.isLoading,className:"flex justify-center items-center w-full text-center bg-red-500 py-4 px-2 text-white hover:bg-red-600",children:"Đăng nhập"})}),e.jsxs("div",{className:"mt-8 flex justify-center items-center",children:[e.jsx("span",{className:"text-gray-400",children:"Bạn mới biết đến Shopee?"}),e.jsx(b,{className:"text-red-400 ml-1",to:"/register",children:"Đăng ký"})]})]})})})})]})}export{B as default};

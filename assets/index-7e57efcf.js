import{r as y,A as f,c as v,u as N,a as b,o as S,i as A,j as e,W as k,L as C,s as L,b as M}from"./index-c796936d.js";import{o as E}from"./yup-c3c1d0d4.js";import{I as n}from"./Input-1e6aaefa.js";import{B}from"./Button-6feb0bde.js";const I=L.pick(["email","password","confirm_password"]);function K(){var c,m,d;const{setIsAuthenticated:g,setProfile:x}=y.useContext(f),u=v(),{formState:{errors:t},handleSubmit:h,register:r,setError:l}=N({resolver:E(I)}),o=b({mutationFn:i=>M.registerAccount(i)}),j=h(i=>{const w=S(i,["confirm_password"]);o.mutate(w,{onSuccess:a=>{g(!0),x(a.data.data.user),u("/")},onError:a=>{var p;if(A(a)){const s=(p=a.response)==null?void 0:p.data.data;s!=null&&s.email&&l("email",{message:s.email,type:"Server"}),s!=null&&s.password&&l("password",{message:s.password,type:"Server"})}}})});return e.jsxs("div",{className:"bg-orange-600",children:[e.jsxs(k,{children:[e.jsx("title",{children:"Đăng ký | Shopee Clone"}),e.jsx("meta",{name:"description",content:"Đăng ký vào dự án shopee clone"})]}),e.jsx("div",{className:"container",children:e.jsx("div",{className:"grid grid-cols-1 py-12 lg:grid-cols-5 lg:py-32 lg:pr-10",children:e.jsx("div",{className:"lg:col-span-2 lg:col-start-4",children:e.jsxs("form",{className:"bg-white p-10 shadow-sm  rounded-md",onSubmit:j,children:[e.jsx("div",{className:"text-2xl",children:"Đăng Ký"}),e.jsx(n,{type:"text",name:"email",placeholder:"Email",register:r,className:"mt-8",errorMassage:(c=t.email)==null?void 0:c.message,autoComplete:"on"}),e.jsx(n,{type:"password",name:"password",placeholder:"Password",register:r,className:"mt-2 relative",errorMassage:(m=t.password)==null?void 0:m.message,autoComplete:"on"}),e.jsx(n,{type:"password",name:"password",placeholder:"Password",register:r,className:"mt-2 relative",errorMassage:(d=t.password)==null?void 0:d.message,autoComplete:"on"}),e.jsx("div",{className:"mt-2",children:e.jsx(B,{type:"submit",disabled:o.isLoading,isLoading:o.isLoading,className:"flex justify-center items-center w-full text-center py-4 px-2 bg-red-500 text-white  hover:bg-red-600",children:"Đăng ký"})}),e.jsxs("div",{className:"flex items-center justify-center mt-8",children:[e.jsx("span",{className:"text-gray-400",children:"Bạn đã có tài khoản?"}),e.jsx(C,{className:"text-red-400 ml-1",to:"/login",children:"Đăng nhập"})]})]})})})})]})}export{K as default};

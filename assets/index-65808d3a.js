import{u as f,a as g,J as j,Q as N,i as y,j as s,W as b,K as v}from"./index-c796936d.js";import{o as k}from"./yup-c3c1d0d4.js";import{u as M}from"./user.api-be1d8a4f.js";import{B as _}from"./Button-6feb0bde.js";import{I as o}from"./Input-1e6aaefa.js";const S=v.pick(["password","new_password","confirm_password"]);function P(){var m,l,i;const{register:r,formState:{errors:a},handleSubmit:n,setError:p,reset:x}=f({defaultValues:{password:"",confirm_password:"",new_password:""},resolver:k(S)}),u=g(M.updateProfile),h=n(async w=>{var d;try{const e=await u.mutateAsync(j(w,["confirm_password"]));N.success(e.data.message),x()}catch(e){if(y(e)){const t=(d=e.response)==null?void 0:d.data.data;t&&Object.keys(t).forEach(c=>{p(c,{message:String(t[c]),type:"Server"})})}}});return s.jsxs("div",{className:"rounded-sm bg-white px-2 pb-10 shadow md:px-7 md:pb-20",children:[s.jsxs(b,{children:[s.jsx("title",{children:"Thay đổi mật khẩu | Shopee Clone"}),s.jsx("meta",{name:"description",content:"thay mật khẩu dự án shopee clone"})]}),s.jsxs("div",{className:"border-b border-b-gray-200 py-6",children:[s.jsx("h1",{className:"text-lg font-medium capitalize text-gray-900",children:"Đổi mật khẩu"}),s.jsx("div",{className:"mt-1 text-sm text-gray-700",children:"Quản lý thông tin hồ sơ để bảo mật tài khoản"})]}),s.jsxs("form",{className:"mt-8 mr-auto max-w-2xl",onSubmit:h,children:[s.jsxs("div",{className:"mt-6 flex-grow md:mt-0 md:pr-12",children:[s.jsxs("div",{className:"mt-2 flex flex-col flex-wrap sm:flex-row",children:[s.jsx("div",{className:"truncate pt-3 capitalize sm:w-[20%] sm:text-right",children:"Mật khẩu cũ"}),s.jsx("div",{className:"sm:w-[80%] sm:pl-5",children:s.jsx(o,{classNameInput:"w-full rounded-sm border border-gray-300 px-3 py-2 outline-none focus:border-gray-500 focus:shadow-sm",className:"relative",register:r,name:"password",type:"password",placeholder:"Mật khẩu cũ",errorMassage:(m=a.password)==null?void 0:m.message})})]}),s.jsxs("div",{className:"mt-2 flex flex-col flex-wrap sm:flex-row",children:[s.jsx("div",{className:"truncate pt-3 capitalize sm:w-[20%] sm:text-right",children:"Mật khẩu mới"}),s.jsx("div",{className:"sm:w-[80%] sm:pl-5",children:s.jsx(o,{classNameInput:"w-full rounded-sm border border-gray-300 px-3 py-2 outline-none focus:border-gray-500 focus:shadow-sm",className:"relative",register:r,name:"new_password",type:"password",placeholder:"Mật khẩu mới",errorMassage:(l=a.new_password)==null?void 0:l.message})})]}),s.jsxs("div",{className:"mt-2 flex flex-col flex-wrap sm:flex-row",children:[s.jsx("div",{className:"truncate pt-3 capitalize sm:w-[20%] sm:text-right",children:"Nhập lại mật khẩu"}),s.jsx("div",{className:"sm:w-[80%] sm:pl-5",children:s.jsx(o,{classNameInput:"w-full rounded-sm border border-gray-300 px-3 py-2 outline-none focus:border-gray-500 focus:shadow-sm",className:"relative",register:r,name:"confirm_password",type:"password",placeholder:"Nhập lại mật khẩu",errorMassage:(i=a.confirm_password)==null?void 0:i.message})})]})]}),s.jsxs("div",{className:"flex flex-wrap mt-5 sm:flex-row",children:[s.jsx("div",{className:"sm:w-[20%] truncate pt-3 sm:text-right capitalize"}),s.jsx("div",{className:"sm:w-[80%] pl-5 ",children:s.jsx(_,{type:"submit",className:"sm:w-[30%] md:w-[50px] text-center bg-orange-600 py-2 px-2 text-white  hover:bg-orange-600/80 rounded-sm",children:"Lưu"})})]})]})]})}export{P as default};
